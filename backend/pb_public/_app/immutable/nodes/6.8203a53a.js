import{s as J,r as K,h as Q}from"../chunks/scheduler.a6287574.js";import{S as R,i as W,g as v,s as T,m as A,h as b,j as U,B as O,c as B,f as k,n as H,k as x,a as X,x as f,A as L,d as $,b as Y,o as Z,t as V,C as tt,r as et,u as st,v as at,w as ot,p as rt}from"../chunks/index.3e76b7a6.js";import{e as M}from"../chunks/each.a5b882b1.js";import"../chunks/paths.1b4de03e.js";import"../chunks/utils.85594516.js";import"../chunks/Toaster.svelte_svelte_type_style_lang.3e69948a.js";import{P as lt}from"../chunks/ProjectCard.50b0991d.js";import{p as nt,U as ct}from"../chunks/stores.10c58602.js";function z(n,t,r){const a=n.slice();return a[7]=t[r],a}function F(n){let t,r;return t=new lt({props:{project:n[7]}}),{c(){et(t.$$.fragment)},l(a){st(t.$$.fragment,a)},m(a,i){at(t,a,i),r=!0},p(a,i){const u={};i&4&&(u.project=a[7]),t.$set(u)},i(a){r||($(t.$$.fragment,a),r=!0)},o(a){V(t.$$.fragment,a),r=!1},d(a){ot(t,a)}}}function it(n){let t,r,a="My Projects",i,u,C,c,d,P="«",p,m,D,y,E,h,S="»",j,w,q,g=M(n[2]),e=[];for(let s=0;s<g.length;s+=1)e[s]=F(z(n,g,s));const G=s=>V(e[s],1,1,()=>{e[s]=null});return{c(){t=v("div"),r=v("h1"),r.textContent=a,i=T(),u=v("div");for(let s=0;s<e.length;s+=1)e[s].c();C=T(),c=v("div"),d=v("button"),d.textContent=P,p=T(),m=v("button"),D=A("Page "),y=A(n[0]),E=T(),h=v("button"),h.textContent=S,this.h()},l(s){t=b(s,"DIV",{class:!0});var l=U(t);r=b(l,"H1",{class:!0,"data-svelte-h":!0}),O(r)!=="svelte-1i1g3x0"&&(r.textContent=a),i=B(l),u=b(l,"DIV",{class:!0});var o=U(u);for(let N=0;N<e.length;N+=1)e[N].l(o);o.forEach(k),C=B(l),c=b(l,"DIV",{class:!0});var _=U(c);d=b(_,"BUTTON",{class:!0,"data-svelte-h":!0}),O(d)!=="svelte-pjlmiv"&&(d.textContent=P),p=B(_),m=b(_,"BUTTON",{class:!0});var I=U(m);D=H(I,"Page "),y=H(I,n[0]),I.forEach(k),E=B(_),h=b(_,"BUTTON",{class:!0,"data-svelte-h":!0}),O(h)!=="svelte-18f91ig"&&(h.textContent=S),_.forEach(k),l.forEach(k),this.h()},h(){x(r,"class","text-xl font-bold"),x(u,"class","grid grid-cols-4 gap-4"),x(d,"class","btn"),x(m,"class","btn"),x(h,"class","btn"),x(c,"class","btn-group place-self-center mt-10"),x(t,"class","flex flex-col gap-3")},m(s,l){X(s,t,l),f(t,r),f(t,i),f(t,u);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(u,null);f(t,C),f(t,c),f(c,d),f(c,p),f(c,m),f(m,D),f(m,y),f(c,E),f(c,h),j=!0,w||(q=[L(d,"click",n[5]),L(h,"click",n[6])],w=!0)},p(s,[l]){if(l&4){g=M(s[2]);let o;for(o=0;o<g.length;o+=1){const _=z(s,g,o);e[o]?(e[o].p(_,l),$(e[o],1)):(e[o]=F(_),e[o].c(),$(e[o],1),e[o].m(u,null))}for(rt(),o=g.length;o<e.length;o+=1)G(o);Y()}(!j||l&1)&&Z(y,s[0])},i(s){if(!j){for(let l=0;l<g.length;l+=1)$(e[l]);j=!0}},o(s){e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)V(e[l]);j=!1},d(s){s&&k(t),tt(e,s),w=!1,K(q)}}}function ut(n,t,r){let a;Q(n,ct,p=>r(4,a=p));let i=1,u=1,C=[];const c=async()=>{try{const p=structuredClone(await nt.collection("projects").getList(i,6,{filter:`user.id = "${a.id}"`}));r(2,C=p.items),r(1,u=p.totalPages)}catch(p){console.log(p.status,p.data)}},d=()=>{i>1&&(r(0,i-=1),c())},P=()=>{i<u&&(r(0,i+=1),c())};return n.$$.update=()=>{n.$$.dirty&16&&(a.id,a.id&&c())},[i,u,C,c,a,d,P]}class bt extends R{constructor(t){super(),W(this,t,ut,it,J,{})}}export{bt as component};
