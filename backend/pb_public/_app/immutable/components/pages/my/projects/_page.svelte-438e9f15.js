import{S as G,i as J,s as K,k as b,q as x,a as B,l as v,m as j,r as D,h as p,c as w,n as P,b as Q,H as i,R,f as C,d as W,u as X,t as M,Y as Z,D as tt,U as et,w as st,x as at,y as ot,z as rt,g as lt}from"../../../../chunks/index-aedd6872.js";import"../../../../chunks/forms-f02374ed.js";import"../../../../chunks/utils-04416275.js";import{P as nt}from"../../../../chunks/ProjectCard-9235c4f5.js";import{p as ct,U as it}from"../../../../chunks/stores-3f27b470.js";function Y(n,t,l){const e=n.slice();return e[7]=t[l],e}function A(n){let t,l;return t=new nt({props:{project:n[7]}}),{c(){st(t.$$.fragment)},l(e){at(t.$$.fragment,e)},m(e,u){ot(t,e,u),l=!0},p(e,u){const f={};u&4&&(f.project=e[7]),t.$set(f)},i(e){l||(C(t.$$.fragment,e),l=!0)},o(e){M(t.$$.fragment,e),l=!1},d(e){rt(t,e)}}}function ut(n){let t,l,e,u,f,k,c,h,E,d,_,I,$,N,m,O,U,V,S,g=n[2],a=[];for(let s=0;s<g.length;s+=1)a[s]=A(Y(n,g,s));const F=s=>M(a[s],1,1,()=>{a[s]=null});return{c(){t=b("div"),l=b("h1"),e=x("My Projects"),u=B(),f=b("div");for(let s=0;s<a.length;s+=1)a[s].c();k=B(),c=b("div"),h=b("button"),E=x("\xAB"),d=B(),_=b("button"),I=x("Page "),$=x(n[0]),N=B(),m=b("button"),O=x("\xBB"),this.h()},l(s){t=v(s,"DIV",{class:!0});var r=j(t);l=v(r,"H1",{class:!0});var o=j(l);e=D(o,"My Projects"),o.forEach(p),u=w(r),f=v(r,"DIV",{class:!0});var T=j(f);for(let H=0;H<a.length;H+=1)a[H].l(T);T.forEach(p),k=w(r),c=v(r,"DIV",{class:!0});var y=j(c);h=v(y,"BUTTON",{class:!0});var z=j(h);E=D(z,"\xAB"),z.forEach(p),d=w(y),_=v(y,"BUTTON",{class:!0});var q=j(_);I=D(q,"Page "),$=D(q,n[0]),q.forEach(p),N=w(y),m=v(y,"BUTTON",{class:!0});var L=j(m);O=D(L,"\xBB"),L.forEach(p),y.forEach(p),r.forEach(p),this.h()},h(){P(l,"class","text-xl font-bold"),P(f,"class","grid grid-cols-4 gap-4"),P(h,"class","btn"),P(_,"class","btn"),P(m,"class","btn"),P(c,"class","btn-group place-self-center mt-10"),P(t,"class","flex flex-col gap-3")},m(s,r){Q(s,t,r),i(t,l),i(l,e),i(t,u),i(t,f);for(let o=0;o<a.length;o+=1)a[o].m(f,null);i(t,k),i(t,c),i(c,h),i(h,E),i(c,d),i(c,_),i(_,I),i(_,$),i(c,N),i(c,m),i(m,O),U=!0,V||(S=[R(h,"click",n[5]),R(m,"click",n[6])],V=!0)},p(s,[r]){if(r&4){g=s[2];let o;for(o=0;o<g.length;o+=1){const T=Y(s,g,o);a[o]?(a[o].p(T,r),C(a[o],1)):(a[o]=A(T),a[o].c(),C(a[o],1),a[o].m(f,null))}for(lt(),o=g.length;o<a.length;o+=1)F(o);W()}(!U||r&1)&&X($,s[0])},i(s){if(!U){for(let r=0;r<g.length;r+=1)C(a[r]);U=!0}},o(s){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)M(a[r]);U=!1},d(s){s&&p(t),Z(a,s),V=!1,tt(S)}}}function ft(n,t,l){let e;et(n,it,d=>l(4,e=d));let u=1,f=1,k=[];const c=async()=>{try{const d=structuredClone(await ct.collection("projects").getList(u,6,{filter:`user.id = "${e.id}"`}));l(2,k=d.items),l(1,f=d.totalPages)}catch(d){console.log(d.status,d.data)}},h=()=>{u>1&&(l(0,u-=1),c())},E=()=>{u<f&&(l(0,u+=1),c())};return n.$$.update=()=>{n.$$.dirty&16&&(e.id,e.id&&c())},[u,f,k,c,e,h,E]}class gt extends G{constructor(t){super(),J(this,t,ft,ut,K,{})}}export{gt as default};
